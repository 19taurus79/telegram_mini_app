# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: Orders Dashboard (Command Center)

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î –ø—Ä–∏–Ω—Ü–∏–ø–∏ —Ä–æ–±–æ—Ç–∏ —Ç–∞ –ª–æ–≥—ñ–∫—É –¥–∞–Ω–∏—Ö –Ω–æ–≤–æ–≥–æ –¥–∞—à–±–æ—Ä–¥—É –∑–∞–º–æ–≤–ª–µ–Ω—å (`OrdersDashboard`).

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∞ –ü–æ—Ç—ñ–∫ –î–∞–Ω–∏—Ö (Data Flow)

–î–∞—à–±–æ—Ä–¥ –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º "Command Center" —ñ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ —Ç—Ä—å–æ—Ö –≤–∑–∞—î–º–æ–ø–æ–≤'—è–∑–∞–Ω–∏—Ö –≤—ñ–¥–∂–µ—Ç—ñ–≤. –î–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ (–ª—ñ–Ω–∏–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è), —â–æ–± –Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É.

### 1. –†—ñ–≤–µ–Ω—å –ö–ª—ñ—î–Ω—Ç—ñ–≤ (`ClientsWidget`)
- **–î–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö**: `getClients`.
- **–õ–æ–≥—ñ–∫–∞**: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –∑ API.
- **–í–∑–∞—î–º–æ–¥—ñ—è**: –ü—Ä–∏ –≤–∏–±–æ—Ä—ñ –∫–ª—ñ—î–Ω—Ç–∞:
  - –°—Ç–∞–Ω `selectedClient` –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è.
  - –°–∫–∏–¥–∞—î—Ç—å—Å—è `selectedContract` (–æ–±–Ω—É–ª—è—î—Ç—å—Å—è –≤–∏–±—ñ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É).
  - –Ü–Ω—ñ—Ü—ñ—é—î—Ç—å—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ –¥–ª—è —Ü—å–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞.

### 2. –†—ñ–≤–µ–Ω—å –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ (`ContractsWidget`)
- **–î–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö**: `getContracts` (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ `selectedClient`).
- **–õ–æ–≥—ñ–∫–∞**: –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ –ª–∏—à–µ –æ–±—Ä–∞–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞.
- **–í–∑–∞—î–º–æ–¥—ñ—è**:
  - –ü—Ä–∏ –≤–∏–±–æ—Ä—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É: –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è `selectedContract`, –≤—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è —Ä–µ–∂–∏–º "–í—Å—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏".
  - –ö–Ω–æ–ø–∫–∞ **"–í—Å—ñ"**: –í–º–∏–∫–∞—î —Ä–µ–∂–∏–º `showAllContracts`, —Å–∫–∏–¥–∞—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π `selectedContract`.

### 3. –†—ñ–≤–µ–Ω—å –î–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—ó (`DetailsWidget`)
–¶–µ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –¥–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∞–≥—Ä–µ–≥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª.

#### A. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ó–∞–º–æ–≤–ª–µ–Ω—å
- **–î–∂–µ—Ä–µ–ª–æ**: `getOrders`.
- **–õ–æ–≥—ñ–∫–∞**: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î **–≤—Å—ñ** –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ–±—Ä–∞–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ –æ–¥—Ä–∞–∑—É.
- **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è**:
  - –Ø–∫—â–æ –æ–±—Ä–∞–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç -> –ø–æ–∫–∞–∑—É—î–º–æ —Ä—è–¥–∫–∏ —Ç—ñ–ª—å–∫–∏ —Ü—å–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.
  - –Ø–∫—â–æ –æ–±—Ä–∞–Ω–æ "–í—Å—ñ" -> –ø–æ–∫–∞–∑—É—î–º–æ –≤–µ—Å—å —Å–ø–∏—Å–æ–∫.
  - –¶–µ –∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó: –º–∏ —Ä–æ–±–∏–º–æ –æ–¥–∏–Ω –∑–∞–ø–∏—Ç –Ω–∞ –∫–ª—ñ—î–Ω—Ç–∞, –∞ —Ñ—ñ–ª—å—Ç—Ä—É—î–º–æ –≤–∂–µ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ (front-end), –±–æ –∑–∞–º–æ–≤–ª–µ–Ω—å –Ω–∞ –æ–¥–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ –∑–∞–∑–≤–∏—á–∞–π –Ω–µ —Ç–∏—Å—è—á—ñ.

#### B. –ó–±–∞–≥–∞—á–µ–Ω–Ω—è –¥–∞–Ω–∏–º–∏ (Data Enrichment)
–£ —Ç–∞–±–ª–∏—Ü—ñ –¥–µ—Ç–∞–ª–µ–π –º–∏ –ø–æ–∫–∞–∑—É—î–º–æ –Ω–µ —Ç—ñ–ª—å–∫–∏ —Ç–µ, —â–æ —î –≤ –æ–±'—î–∫—Ç—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (`Order`), –∞ –π –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ:

1.  **–ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è (–ü–∞—Ä—Ç—ñ—ó)**:
    - **–î–∂–µ—Ä–µ–ª–æ**: `getOrdersDetailsById`.
    - **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è**: –î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (`OrderRow`) —Ä–æ–±–∏—Ç—å—Å—è –æ–∫—Ä–µ–º–∏–π "—Ç–æ—á–∫–æ–≤–∏–π" –∑–∞–ø–∏—Ç, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —è–∫–∞ —Å–∞–º–µ –ø–∞—Ä—Ç—ñ—è –ø–æ—ó—Ö–∞–ª–∞.
    - **–ß–æ–º—É —Ç–∞–∫**: –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–∞—Ä—Ç—ñ—ó "–≤–∞–∂–∫–∞" —ñ –≤–∫–ª–∞–¥–µ–Ω–∞, —ó—ó –Ω–µ–º–∞—î –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–ø–∏—Å–∫—É –∑–∞–º–æ–≤–ª–µ–Ω—å. `OrderRow` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ü–∏—Ö –¥–∞–Ω–∏—Ö.

2.  **–ó–∞–ª–∏—à–∫–∏ (–ë—É—Ö/–°–∫–ª)**:
    - **–î–∂–µ—Ä–µ–ª–æ**: `getRemainsForBi`.
    - **–õ–æ–≥—ñ–∫–∞**: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –≤–µ–ª–∏–∫–∏–π –æ–±'—î–∫—Ç –∑ —É—Å—ñ–º–∞ –∑–∞–ª–∏—à–∫–∞–º–∏ –ø–æ –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä–∞—Ö (`remainsMap`).
    - **Mapping**: –î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä—É –≤ —Ä—è–¥–∫—É –º–∏ –º–∏—Ç—Ç—î–≤–æ –∑–Ω–∞—Ö–æ–¥–∏–º–æ –π–æ–≥–æ –∑–∞–ª–∏—à–æ–∫ —É —Ü—å–æ–º—É –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ –∑–∞ –Ω–∞–∑–≤–æ—é —Ç–æ–≤–∞—Ä—É. –¶–µ –Ω–∞–±–∞–≥–∞—Ç–æ —à–≤–∏–¥—à–µ, –Ω—ñ–∂ —Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç –Ω–∞ –∑–∞–ª–∏—à–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –æ–∫—Ä–µ–º–æ.

## üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º–∞–∫–µ—Ç—É
- –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ `react-grid-layout` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ Drap-and-Drop.
- –ü–æ–∑–∏—Ü—ñ—ó –±–ª–æ–∫—ñ–≤ (x, y, w, h) –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `localStorage` –ø—ñ–¥ –∫–ª—é—á–µ–º `orders-dashboard-layouts`.
- –ö–Ω–æ–ø–∫–∞ "–°–∫–∏–Ω—É—Ç–∏ –º–∞–∫–µ—Ç" –≤–∏–¥–∞–ª—è—î —Ü–µ–π –∫–ª—é—á —ñ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å—Ç–æ—Ä—ñ–Ω–∫—É, –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.

## üì± –ú–æ–±—ñ–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è
- –ù–∞ –¥–∞–Ω–∏–π –º–æ–º–µ–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤–±—É–¥–æ–≤–∞–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å Grid Layout (breakpoint `sm`).
- –ë–ª–æ–∫–∏ —Å—Ç–∞—é—Ç—å –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É —ñ —à–∏–∫—É—é—Ç—å—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –æ–¥–∏–Ω –∑–∞ –æ–¥–Ω–∏–º.
